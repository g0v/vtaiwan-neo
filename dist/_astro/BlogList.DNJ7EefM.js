import{e as u,b as _,d as x}from"./firebase.Dd7E2CAK.js";import{_ as v}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as a,F as p,g as h,r as m,o as g,f as o,a as t,t as l,d as y}from"./runtime-core.esm-bundler.CxImSglf.js";const b={__name:"BlogList",setup(f,{expose:c}){c();const r=m([]);g(()=>{console.log("Setting up blogs listener"),u(_,i=>{const d=i.val();d?r.value=Object.entries(d).map(([e,s])=>({id:e,...s})).sort((e,s)=>new Date(s.date)-new Date(e.date)):r.value=[],console.log("Blogs updated:",r.value)})});const n={blogs:r,ref:m,onMounted:g,get database(){return x},get blogsRef(){return _},get onValue(){return u}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},w={class:"grid gap-8 md:grid-cols-2 lg:grid-cols-3"},B={class:"p-6"},L={class:"text-xl font-semibold mb-2"},k=["href"],R={class:"flex items-center space-x-3 mb-4"},S=["src","alt"],V={class:"text-sm text-gray-600"},$={class:"text-gray-700 mb-4"},D={class:"flex flex-wrap gap-2"};function P(f,c,r,n,i,d){return o(),a("div",w,[(o(!0),a(p,null,h(n.blogs,e=>(o(),a("article",{key:e.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[t("div",B,[t("h2",L,[t("a",{href:`/blogs/${e.title.toLowerCase().replace(/\s+/g,"-")}`,class:"hover:text-blue-600"},l(e.title),9,k)]),t("div",R,[e.authorPhotoURL?(o(),a("img",{key:0,src:e.authorPhotoURL,alt:e.author,class:"w-8 h-8 rounded-full"},null,8,S)):y("",!0),t("div",V,[t("div",null,"作者："+l(e.author),1),t("div",null,"發布日期："+l(e.date),1)])]),t("p",$,l(e.summary),1),t("div",D,[(o(!0),a(p,null,h(e.tags,s=>(o(),a("span",{key:s,class:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"},l(s),1))),128))])])]))),128))])}const N=v(b,[["render",P]]);export{N as default};
